# GitHub Copilot 日本語レビューカスタムルール

## 概要

このプロジェクトでは、GitHub Copilotによるコードレビューを全て日本語で実行するためのカスタムルールを設定しています。プロジェクトメンバーが日本語話者であるため、レビューコメントを日本語で統一し、理解度の向上とコミュニケーションの効率化を図ります。

## 設定ファイル構成

### 1. ワークフロー設定
- **ファイル**: `.github/workflows/copilot-review.yml`
- **目的**: プルリクエスト作成時に自動的に日本語レビューを実行
- **機能**: 
  - PR作成/更新時の自動トリガー
  - 日本語レビューコメントの自動投稿
  - レビュー設定の表示

### 2. カスタムルール設定  
- **ファイル**: `.github/copilot-rules.yml`
- **目的**: 詳細な日本語レビュールールの定義
- **内容**:
  - 言語設定（日本語）
  - 技術用語の説明ルール
  - ファイルタイプ別の設定
  - コメントテンプレート

### 3. ワークスペース設定
- **ファイル**: `.github/copilot-workspace.json`
- **目的**: GitHub Copilotのワークスペース固有設定
- **機能**: 日本語チャット、カスタムプロンプト

### 4. VSCode設定
- **ファイル**: `.vscode/settings.json`
- **目的**: 開発環境でのCopilot日本語設定
- **機能**: エディタ内での日本語サポート

## レビュールール詳細

### 基本設定
```yaml
language: "ja"
locale: "ja-JP" 
review_language: "japanese"
```

### 適用されるルール

#### 1. 言語統一ルール
- **内容**: 全てのレビューコメントを日本語で記述
- **例**:
  - ❌ "Consider using const instead of let"
  - ✅ "パフォーマンス向上のため、letの代わりにconstの使用を検討してください"

#### 2. 技術用語説明ルール
- **内容**: 技術用語には日本語説明を付加
- **例**:
  - ❌ "Use async/await"
  - ✅ "async/await（非同期処理）を使用してください"

#### 3. 具体的改善提案ルール
- **内容**: 改善理由と具体的な方法を日本語で説明
- **例**:
  - ❌ "Refactor this function"
  - ✅ "この関数は責務が多すぎるため、単一責任の原則に従って複数の関数に分割することを推奨します"

## ファイルタイプ別設定

### JavaScript/TypeScript
- 型安全性の確保
- 非同期処理の適切な実装
- エラーハンドリングの充実

### CSS/SCSS
- レスポンシブデザインの考慮
- 保守性の高いスタイル記述
- パフォーマンスへの配慮

### HTML
- アクセシビリティの確保
- セマンティックなマークアップ
- SEOの最適化

## コメントテンプレート

### コード品質
```
コードの可読性を向上させるため、{suggestion}を検討してください。
パフォーマンス向上のため、{optimization}の実装をお勧めします。
セキュリティの観点から、{security_concern}について確認をお願いします。
```

### ベストプラクティス
```
一般的なベストプラクティスとして、{practice}の採用をお勧めします。
保守性を向上させるため、{maintainability_suggestion}を検討してください。
```

### バグ・問題指摘
```
潜在的な問題として、{issue}が発生する可能性があります。{solution}の実装をお勧めします。
エラーハンドリングが不十分です。{error_handling}を追加してください。
```

## 使用方法

### 1. プルリクエスト作成時
1. 新しいプルリクエストを作成
2. 自動的に日本語レビューワークフローが実行
3. レビューコメントが日本語で生成・投稿

### 2. 手動レビュー実行
1. プルリクエストページでActionsタブを確認
2. 必要に応じて手動でワークフローを再実行

### 3. 設定の確認
1. `.github/copilot-rules.yml`でルール内容を確認
2. 必要に応じてカスタマイズ

## トラブルシューティング

### よくある問題

#### 1. レビューコメントが英語で表示される
**原因**: 設定が正しく読み込まれていない
**解決策**: 
- ワークフローが正常に実行されているか確認
- `.github/copilot-rules.yml`の構文エラーをチェック

#### 2. ワークフローが実行されない
**原因**: 権限設定またはトリガー設定の問題
**解決策**:
- リポジトリの Actions 設定を確認
- GITHUB_TOKEN の権限を確認

#### 3. 特定のファイルでレビューが動作しない
**原因**: ファイルタイプの除外設定
**解決策**: 
- `.github/copilot-rules.yml`の`scope.exclude`設定を確認
- 対象ファイルタイプの設定を追加

## カスタマイズ方法

### 1. 新しいルール追加
`.github/copilot-rules.yml`に新しいルールを追加:

```yaml
rules:
  review_guidelines:
    - rule: "custom_rule_name"
      description: "ルールの説明"
      action: "実行する動作"
      examples:
        - bad: "悪い例"
        - good: "良い例"
```

### 2. コメントテンプレート追加
新しいテンプレートカテゴリを追加:

```yaml
comment_templates:
  custom_category:
    - template: "カスタムテンプレート: {placeholder}"
```

### 3. ファイルタイプ別設定追加
新しいファイルタイプの設定を追加:

```yaml
file_type_rules:
  "*.newtype":
    focus_areas:
      - "新しいファイルタイプ用の確認項目"
```

## 期待される効果

1. **理解度向上**: 日本語レビューにより、チーム全体の理解度が向上
2. **コミュニケーション効率化**: 統一された日本語での明確なコミュニケーション
3. **品質向上**: 詳細で具体的な日本語説明により、コード品質が向上
4. **学習促進**: 技術用語の日本語説明により、学習効果が向上

## 今後の改善計画

1. **ルールの拡充**: プロジェクト固有のルールを追加
2. **テンプレートの改善**: より詳細で有用なコメントテンプレートの作成
3. **自動化の強化**: より高度な自動レビュー機能の実装
4. **メトリクス収集**: レビュー効果の測定と改善

## 参考資料

- [GitHub Copilot Documentation](https://docs.github.com/en/copilot)
- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [YAML Syntax Guide](https://yaml.org/spec/1.2/spec.html)

## サポート

設定や使用方法について質問がある場合は、以下の方法でサポートを受けることができます：

1. **Issue作成**: GitHub Issue として質問を投稿
2. **Pull Request**: 改善提案をPull Requestとして提出
3. **ドキュメント確認**: このドキュメントの内容を再確認

---

最終更新: 2024年
バージョン: 1.0